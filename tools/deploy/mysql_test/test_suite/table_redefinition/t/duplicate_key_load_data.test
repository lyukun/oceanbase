--disable_query_log
set @@session.explicit_defaults_for_timestamp=off;
--enable_query_log
# owner      : kunxing.lyk
# owner group: storage
# description: insert duplicate key to a unique index using load insert
#--disable_abort_on_error

--disable_warnings
drop table if exists t1;
drop table if exists t2;
--enable_warnings

create table t1(x int, y int, UNIQUE INDEX i(x, y));

create table t2(x2 int, y2 int);

insert into t2 values(2, 2), (2, 2);
-- error 1062
insert /*+ append enable_parallel_dml parallel(2)*/ into t1 select x2, y2 from t2;

drop table t1;
drop table t2;
