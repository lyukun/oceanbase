--disable_query_log
set @@session.explicit_defaults_for_timestamp=off;
--enable_query_log
# owner      : kunxing.lyk
# owner group: storage
# description: test alter index rowkey col size exceeds MAX
#--disable_abort_on_error

--disable_warnings
drop database if exists lyk;
--enable_warnings

create database lyk;

use lyk;


# check index length, while 
create table t1(c1 int, c2 varbinary(8000), c3 int);
create index idx1 on t1(c2, c3);
--error 1071
alter table t1 modify column c3 varbinary(10000);

drop table t1;

create table t1(c1 int, c2 varchar(1000), c3 int);
create index idx1 on t1(c2, c3);
--error 1071
alter table t1 modify column c3 varchar(10000);

drop table t1;
drop database lyk;